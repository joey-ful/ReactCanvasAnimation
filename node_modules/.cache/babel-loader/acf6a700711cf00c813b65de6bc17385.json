{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from 'react'; // import useResize from '../ResizeCanvas.js';\n\nconst useCanvas = draw => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n\n    const resize = () => {\n      // canvas.width = window.innerWidth;\n      // canvas.height = window.innerHeight;\n      const {\n        width,\n        height\n      } = canvas.getBoundingClientRect();\n      const ratio = window.devicePixelRatio;\n      canvas.width = width * ratio;\n      canvas.height = height * ratio;\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px'; //   canvas.style.width = '100%';\n      // canvas.style.height = '100%';\n\n      ctx.scale(ratio, ratio);\n      window.addEventListener('resize', resize);\n    };\n\n    const render = () => {\n      frameCount++; // ResizeCanvas(canvas, ctx);\n\n      draw(ctx, frameCount);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n\n    render();\n    resize();\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('resize', resize);\n    };\n  }, [draw]);\n  return canvasRef;\n};\n\n_s(useCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\nexport default useCanvas;","map":{"version":3,"sources":["/Users/jehong/Programming/Portfolio/CanvasAnimationReact/react-canvas-animation/src/Hooks/useCanvas.js"],"names":["useRef","useEffect","useCanvas","draw","canvasRef","canvas","current","ctx","getContext","frameCount","animationFrameId","resize","width","height","getBoundingClientRect","ratio","window","devicePixelRatio","style","scale","addEventListener","render","requestAnimationFrame","cancelAnimationFrame","removeEventListener"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC,C,CACA;;AAEA,MAAMC,SAAS,GAAGC,IAAI,IAAI;AAAA;;AACxB,QAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMI,MAAM,GAAGD,SAAS,CAACE,OAAzB;AACA,UAAMC,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAZ;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,gBAAJ;;AAEA,UAAMC,MAAM,GAAG,MAAM;AACnB;AACA;AACA,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAoBR,MAAM,CAACS,qBAAP,EAA1B;AACE,YAAMC,KAAK,GAAGC,MAAM,CAACC,gBAArB;AAEJZ,MAAAA,MAAM,CAACO,KAAP,GAAeA,KAAK,GAAGG,KAAvB;AACAV,MAAAA,MAAM,CAACQ,MAAP,GAAgBA,MAAM,GAAGE,KAAzB;AACAV,MAAAA,MAAM,CAACa,KAAP,CAAaN,KAAb,GAAqBA,KAAK,GAAG,IAA7B;AACAP,MAAAA,MAAM,CAACa,KAAP,CAAaL,MAAb,GAAsBA,MAAM,GAAG,IAA/B,CATqB,CAWvB;AACA;;AACAN,MAAAA,GAAG,CAACY,KAAJ,CAAUJ,KAAV,EAAiBA,KAAjB;AAEIC,MAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCT,MAAlC;AACD,KAhBD;;AAkBA,UAAMU,MAAM,GAAG,MAAM;AACnBZ,MAAAA,UAAU,GADS,CAEnB;;AACAN,MAAAA,IAAI,CAACI,GAAD,EAAME,UAAN,CAAJ;AACAC,MAAAA,gBAAgB,GAAGM,MAAM,CAACM,qBAAP,CAA6BD,MAA7B,CAAnB;AACD,KALD;;AAMAA,IAAAA,MAAM;AACNV,IAAAA,MAAM;AAEN,WAAO,MAAM;AACXK,MAAAA,MAAM,CAACO,oBAAP,CAA4Bb,gBAA5B;AACAM,MAAAA,MAAM,CAACQ,mBAAP,CAA2B,QAA3B,EAAqCb,MAArC;AACD,KAHD;AAID,GArCQ,EAqCN,CAACR,IAAD,CArCM,CAAT;AAuCA,SAAOC,SAAP;AACD,CA3CD;;GAAMF,S;;AA6CN,eAAeA,SAAf","sourcesContent":["import { useRef, useEffect } from 'react';\n// import useResize from '../ResizeCanvas.js';\n\nconst useCanvas = draw => {\n  const canvasRef = useRef(null);\n  \n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n    \n    const resize = () => {\n      // canvas.width = window.innerWidth;\n      // canvas.height = window.innerHeight;\n      const { width, height } = canvas.getBoundingClientRect();\n        const ratio = window.devicePixelRatio;\n\n    canvas.width = width * ratio;\n    canvas.height = height * ratio;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n\n  //   canvas.style.width = '100%';\n  // canvas.style.height = '100%';\n  ctx.scale(ratio, ratio);\n      \n      window.addEventListener('resize', resize);\n    }\n\n    const render = () => {\n      frameCount++;\n      // ResizeCanvas(canvas, ctx);\n      draw(ctx, frameCount);\n      animationFrameId = window.requestAnimationFrame(render);\n    }\n    render();\n    resize();\n    \n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('resize', resize);\n    }\n  }, [draw]);\n  \n  return canvasRef\n}\n\nexport default useCanvas;"]},"metadata":{},"sourceType":"module"}