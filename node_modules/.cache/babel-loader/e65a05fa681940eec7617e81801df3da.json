{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from 'react';\n\nconst useCanvas = draw => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const stageWidth = window.innerWidth;\n    const stageHeight = window.innerHeight;\n\n    const resize = () => {\n      const ratio = window.devicePixelRatio;\n      canvas.width = stageWidth * ratio;\n      canvas.height = stageHeight * ratio;\n      canvas.style.width = stageWidth + 'px';\n      canvas.style.height = stageHeight + 'px';\n      ctx.scale(ratio, ratio);\n      window.addEventListener('resize', resize);\n    };\n\n    const render = () => {\n      frameCount++;\n      draw(ctx, frameCount, stageWidth, stageHeight);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n\n    render();\n    resize();\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('resize', resize);\n    };\n  }, [draw]);\n  return canvasRef;\n};\n\n_s(useCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\nexport default useCanvas;","map":{"version":3,"sources":["/Users/jehong/Programming/Portfolio/CanvasAnimationReact/react-canvas-animation/src/Hooks/useCanvas.js"],"names":["useRef","useEffect","useCanvas","draw","canvasRef","canvas","current","ctx","getContext","stageWidth","window","innerWidth","stageHeight","innerHeight","resize","ratio","devicePixelRatio","width","height","style","scale","addEventListener","render","frameCount","animationFrameId","requestAnimationFrame","cancelAnimationFrame","removeEventListener"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;AAEA,MAAMC,SAAS,GAAGC,IAAI,IAAI;AAAA;;AACxB,QAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMI,MAAM,GAAGD,SAAS,CAACE,OAAzB;AACA,UAAMC,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAZ;AACA,UAAMC,UAAU,GAAGC,MAAM,CAACC,UAA1B;AACA,UAAMC,WAAW,GAAGF,MAAM,CAACG,WAA3B;;AAEA,UAAMC,MAAM,GAAG,MAAM;AACnB,YAAMC,KAAK,GAAGL,MAAM,CAACM,gBAArB;AAEAX,MAAAA,MAAM,CAACY,KAAP,GAAeR,UAAU,GAAGM,KAA5B;AACAV,MAAAA,MAAM,CAACa,MAAP,GAAgBN,WAAW,GAAGG,KAA9B;AAEAV,MAAAA,MAAM,CAACc,KAAP,CAAaF,KAAb,GAAqBR,UAAU,GAAG,IAAlC;AACAJ,MAAAA,MAAM,CAACc,KAAP,CAAaD,MAAb,GAAsBN,WAAW,GAAG,IAApC;AAEAL,MAAAA,GAAG,CAACa,KAAJ,CAAUL,KAAV,EAAiBA,KAAjB;AAEAL,MAAAA,MAAM,CAACW,gBAAP,CAAwB,QAAxB,EAAkCP,MAAlC;AACD,KAZD;;AAcA,UAAMQ,MAAM,GAAG,MAAM;AACnBC,MAAAA,UAAU;AACVpB,MAAAA,IAAI,CAACI,GAAD,EAAMgB,UAAN,EAAkBd,UAAlB,EAA8BG,WAA9B,CAAJ;AACAY,MAAAA,gBAAgB,GAAGd,MAAM,CAACe,qBAAP,CAA6BH,MAA7B,CAAnB;AACD,KAJD;;AAKAA,IAAAA,MAAM;AACNR,IAAAA,MAAM;AAEN,WAAO,MAAM;AACXJ,MAAAA,MAAM,CAACgB,oBAAP,CAA4BF,gBAA5B;AACAd,MAAAA,MAAM,CAACiB,mBAAP,CAA2B,QAA3B,EAAqCb,MAArC;AACD,KAHD;AAID,GAhCQ,EAgCN,CAACX,IAAD,CAhCM,CAAT;AAkCA,SAAOC,SAAP;AACD,CAtCD;;GAAMF,S;;AAwCN,eAAeA,SAAf","sourcesContent":["import { useRef, useEffect } from 'react';\n\nconst useCanvas = draw => {\n  const canvasRef = useRef(null);\n  \n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const stageWidth = window.innerWidth;\n    const stageHeight = window.innerHeight;\n    \n    const resize = () => {\n      const ratio = window.devicePixelRatio;\n\n      canvas.width = stageWidth * ratio;\n      canvas.height = stageHeight * ratio;\n\n      canvas.style.width = stageWidth + 'px';\n      canvas.style.height = stageHeight + 'px';\n\n      ctx.scale(ratio, ratio);\n      \n      window.addEventListener('resize', resize);\n    }\n\n    const render = () => {\n      frameCount++;\n      draw(ctx, frameCount, stageWidth, stageHeight);\n      animationFrameId = window.requestAnimationFrame(render);\n    }\n    render();\n    resize();\n    \n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('resize', resize);\n    }\n  }, [draw]);\n  \n  return canvasRef\n}\n\nexport default useCanvas;"]},"metadata":{},"sourceType":"module"}