{"ast":null,"code":"export default class Planet {\n  constructor(name, star, _radius, color, velocity, orbitRadius, src) {\n    this.onMouseDown = e => {\n      this.offsetX = e.clientX - this.x;\n      this.offsetY = e.clientY - this.y;\n      let radius = this.radius;\n\n      if (Math.abs(this.offsetX) <= radius && Math.abs(this.offsetY) <= this.radius) {\n        this.clicked = true;\n        this.mouse.x = e.clientX - this.offsetX;\n        this.mouse.y = e.clientY - this.offsetY;\n        this.canvas.addEventListener('mousemove', this.onMouseMove);\n      }\n    };\n\n    this.onMouseMove = e => {\n      this.mouse.x = e.clientX - this.offsetX;\n      this.mouse.y = e.clientY - this.offsetY;\n\n      if (this.name !== 'sun' && this.name !== 'moon') {\n        this.orbitRadius = Math.sqrt(Math.pow(this.mouse.x - this.star.x, 2) + Math.pow(this.mouse.y - this.star.y, 2));\n        this.theta = Math.acos((this.mouse.x - this.star.x) / this.orbitRadius);\n\n        if (this.mouse.y - this.star.y < 0) {\n          this.theta = 2 * Math.PI - this.theta;\n        }\n\n        this.toX = this.mouse.x + (this.radius + 30) * Math.cos(this.theta);\n        this.toY = this.mouse.y + (this.radius + 30) * Math.sin(this.theta);\n      }\n    };\n\n    this.restore = () => {\n      if (this.clicked && this.name !== 'sun') {\n        this.clicked = false;\n        this.orbitRadius = Math.sqrt(Math.pow(this.star.x - this.x, 2) + Math.pow(this.star.y - this.y, 2));\n        this.theta = Math.acos((this.x - this.star.x) / this.orbitRadius);\n\n        if (this.y - this.star.y < 0) {\n          this.theta = 2 * Math.PI - this.theta;\n        }\n\n        this.canvas.removeEventListener('mousemove', this.onMouseMove);\n      } else if (this.clicked && this.name === 'sun') {\n        this.clicked = false;\n        this.star.x = this.x;\n        this.star.y = this.y;\n        this.canvas.removeEventListener('mousemove', this.onMouseMove);\n      }\n\n      this.canvas.removeEventListener('mousedown', this.onMouseDown);\n    };\n\n    this.name = name;\n    this.star = star;\n    this.radius = _radius;\n    this.color = color;\n    this.velocity = velocity;\n    this.orbitRadius = orbitRadius;\n    this.theta = Math.random() * Math.PI * 2;\n    this.clicked = false;\n    this.mouse = {\n      x: star.x,\n      y: star.y\n    };\n    this.distanceFromCenter = orbitRadius;\n    this.x = star.x + orbitRadius * Math.cos(this.theta);\n    this.y = star.y + orbitRadius * Math.sin(this.theta);\n    this.img = new Image();\n    this, img; // this.img.src = src;\n  }\n\n  update(ctx, dragType, planetArtToggle) {\n    this.theta += this.velocity;\n    this.setDragOption(dragType);\n    this.setPlanetArtOption(ctx, planetArtToggle);\n  }\n\n  setDragOption(dragType) {\n    if (dragType === 'no-drag') {\n      this.noDragUpdate();\n    } else if (dragType === 'basic-drag') {\n      this.interaction();\n      this.dragUpdate();\n    } else if (dragType === 'elastic-drag') {\n      this.interaction();\n      this.elasticDragUpdate();\n    }\n  }\n\n  noDragUpdate() {\n    this.x = this.star.x + this.orbitRadius * Math.cos(this.theta);\n    this.y = this.star.y + this.orbitRadius * Math.sin(this.theta);\n  }\n\n  dragUpdate() {\n    if (this.clicked) {\n      this.x = this.mouse.x;\n      this.y = this.mouse.y;\n    } else {\n      this.x = this.star.x + this.orbitRadius * Math.cos(this.theta);\n      this.y = this.star.y + this.orbitRadius * Math.sin(this.theta);\n    }\n  }\n\n  elasticDragUpdate() {\n    if (this.clicked) {\n      this.x += (this.mouse.x - this.x) * 0.05;\n      this.y += (this.mouse.y - this.y) * 0.05;\n    } else {\n      this.distanceFromCenter = Math.sqrt(Math.pow(this.star.x - this.x, 2) + Math.pow(this.star.y - this.y, 2));\n      this.distanceFromCenter += (this.orbitRadius - this.distanceFromCenter) * 0.2;\n      this.x = this.star.x + this.distanceFromCenter * Math.cos(this.theta);\n      this.y = this.star.y + this.distanceFromCenter * Math.sin(this.theta);\n    }\n  }\n\n  drawShadow(shadowctx, shadowType, planetArtToggle, backgroundToggle) {\n    if (shadowType === 'round-shadow') {\n      this.drawRoundShadow(shadowctx, planetArtToggle, backgroundToggle);\n    } else if (shadowType === 'rectangular-shadow') {\n      this.drawRectangularShadow(shadowctx, backgroundToggle);\n    }\n  }\n\n  drawRectangularShadow(shadowctx, backgroundToggle) {\n    if (this.name !== 'sun' && this.name !== 'moon') {\n      this.findShadowEndPoint();\n      shadowctx.beginPath();\n\n      if (backgroundToggle) {\n        shadowctx.strokeStyle = 'rgba(33, 69, 104, 0.3)';\n      } else {\n        shadowctx.strokeStyle = 'rgba(77, 87, 105, 0.4)';\n      }\n\n      shadowctx.lineWidth = this.radius * 2;\n      shadowctx.moveTo(this.x, this.y);\n      shadowctx.lineTo(this.toX, this.toY);\n      shadowctx.lineWidth = this.radius * 2;\n      shadowctx.stroke();\n      shadowctx.closePath();\n    }\n  }\n\n  findShadowEndPoint() {\n    let extralength = this.setShadowLength();\n    this.toX = this.x + (this.radius + extralength) * Math.cos(this.theta);\n    this.toY = this.y + (this.radius + extralength) * Math.sin(this.theta);\n  }\n\n  setShadowLength() {\n    let extralength = 17;\n\n    if (this.name === 'venus') {\n      extralength += 2;\n    } else if (this.name === 'earth') {\n      extralength += 17;\n    } else if (this.name === 'mars') {\n      extralength += 18;\n    } else if (this.name === 'jupiter') {\n      extralength += 5;\n    } else if (this.name === 'saturn') {\n      extralength += 6;\n    } else if (this.name === 'uranus') {\n      extralength += 4;\n    }\n\n    return extralength;\n  }\n\n  drawRoundShadow(shadowctx, planetArtToggle, backgroundToggle) {\n    if (this.name !== 'sun' && this.name !== 'moon') {\n      this.findXYdistance(planetArtToggle);\n      this.findShadowCurveDepth();\n      this.findShadowPoints();\n      shadowctx.beginPath();\n      shadowctx.moveTo(this.Ax, this.Ay);\n      shadowctx.bezierCurveTo(this.Ax + this.BezierX, this.Ay + this.BezierY, this.Bx + this.BezierX, this.By + this.BezierY, this.Bx, this.By);\n      shadowctx.lineTo(this.Bx + this.shadowLengthX, this.By + this.shadowLengthY);\n      shadowctx.bezierCurveTo(this.Bx + this.BezierX + this.shadowLengthX, this.By + this.BezierY + this.shadowLengthY, this.Ax + this.BezierX + this.shadowLengthX, this.Ay + this.BezierY + this.shadowLengthY, this.Ax + this.shadowLengthX, this.Ay + this.shadowLengthY);\n      shadowctx.lineTo(this.Ax, this.Ay);\n\n      if (backgroundToggle) {\n        shadowctx.fillStyle = 'rgba(33, 69, 104, 0.3)';\n      } else {\n        shadowctx.fillStyle = 'rgba(77, 87, 105, 0.4)';\n      }\n\n      shadowctx.fill();\n      shadowctx.closePath();\n    }\n  }\n\n  findXYdistance(planetArtToggle) {\n    let radius = this.radius;\n\n    if (planetArtToggle) {\n      if (this.name === 'saturn') {\n        radius = this.radius * 0.8;\n      }\n    }\n\n    this.radiusX = radius * Math.sin(this.theta);\n    this.radiusY = radius * Math.cos(this.theta);\n    this.shadowLengthX = (this.radius + 20) * Math.cos(this.theta);\n    this.shadowLengthY = (this.radius + 20) * Math.sin(this.theta);\n\n    if (this.name === 'mars') {\n      this.shadowLengthX = (this.radius + 46) * Math.cos(this.theta);\n      this.shadowLengthY = (this.radius + 46) * Math.sin(this.theta);\n    } else if (this.name === 'earth') {\n      this.shadowLengthX = (this.radius + 30) * Math.cos(this.theta);\n      this.shadowLengthY = (this.radius + 30) * Math.sin(this.theta);\n    }\n  }\n\n  findShadowCurveDepth() {\n    this.BezierX = this.radius / 1.5 * Math.cos(this.theta);\n    this.BezierY = this.radius / 1.5 * Math.sin(this.theta);\n  }\n\n  findShadowPoints() {\n    this.Ax = this.x + this.radiusX;\n    this.Ay = this.y - this.radiusY;\n    this.Bx = this.x - this.radiusX;\n    this.By = this.y + this.radiusY;\n    this.Cx = this.Bx + this.shadowLengthX;\n    this.Cy = this.By + this.shadowLengthY;\n    this.Dx = this.Ax + this.shadowLengthX;\n    this.Dy = this.Ay + this.shadowLengthY;\n  }\n\n  setPlanetArtOption(ctx, planetArtToggle) {\n    if (planetArtToggle) {\n      this.drawArt(ctx);\n    } else {\n      this.drawCircle(ctx);\n    }\n  }\n\n  drawArt(ctx) {\n    ctx.beginPath();\n    let width = this.radius * 2;\n    let imgX = this.x - this.radius;\n    let imgY = this.y - this.radius;\n\n    if (this.name === 'saturn') {\n      width = this.radius * 4;\n      imgX -= this.radius;\n    } else if (this.name === 'uranus') {\n      width = this.radius * 4.2;\n      imgX -= this.radius * 1.1;\n    }\n\n    ctx.drawImage(this.img, imgX, imgY, width, this.radius * 2);\n    ctx.closePath();\n  }\n\n  drawCircle(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawOrbitPath(pathctx) {\n    pathctx.beginPath();\n    pathctx.arc(this.star.x, this.star.y, this.orbitRadius, 0, Math.PI * 2, false);\n    pathctx.globalAlpha = 0.4;\n    pathctx.strokeStyle = this.color;\n    pathctx.stroke();\n    pathctx.closePath();\n  }\n\n  interaction() {\n    this.canvas = document.getElementById('shadow-canvas');\n    this.canvas.addEventListener('mousedown', this.onMouseDown);\n    this.canvas.addEventListener('mouseup', this.restore);\n    this.canvas.addEventListener('mouseout', this.restore);\n  }\n\n}","map":{"version":3,"sources":["/Users/jehong/Programming/Portfolio/CanvasAnimationReact/src/js/Planet.js"],"names":["Planet","constructor","name","star","radius","color","velocity","orbitRadius","src","onMouseDown","e","offsetX","clientX","x","offsetY","clientY","y","Math","abs","clicked","mouse","canvas","addEventListener","onMouseMove","sqrt","pow","theta","acos","PI","toX","cos","toY","sin","restore","removeEventListener","random","distanceFromCenter","img","Image","update","ctx","dragType","planetArtToggle","setDragOption","setPlanetArtOption","noDragUpdate","interaction","dragUpdate","elasticDragUpdate","drawShadow","shadowctx","shadowType","backgroundToggle","drawRoundShadow","drawRectangularShadow","findShadowEndPoint","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","closePath","extralength","setShadowLength","findXYdistance","findShadowCurveDepth","findShadowPoints","Ax","Ay","bezierCurveTo","BezierX","BezierY","Bx","By","shadowLengthX","shadowLengthY","fillStyle","fill","radiusX","radiusY","Cx","Cy","Dx","Dy","drawArt","drawCircle","width","imgX","imgY","drawImage","arc","drawOrbitPath","pathctx","globalAlpha","document","getElementById"],"mappings":"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","sourcesContent":["export default class Planet {\n  constructor(name, star, radius, color, velocity, orbitRadius, src) {\n    this.name = name;\n    this.star = star;\n    this.radius = radius;\n    this.color = color;\n    this.velocity = velocity;\n    this.orbitRadius = orbitRadius;\n\n    this.theta = Math.random() * Math.PI * 2;\n    this.clicked = false;\n    this.mouse = {\n      x: star.x,\n      y: star.y,\n    };\n\n    this.distanceFromCenter = orbitRadius;\n    this.x = star.x + orbitRadius * Math.cos(this.theta);\n    this.y = star.y + orbitRadius * Math.sin(this.theta);\n    this.img = new Image();\n    this,img\n    // this.img.src = src;\n  }\n\n  update(ctx, dragType, planetArtToggle) {\n    this.theta += this.velocity;\n\n    this.setDragOption(dragType);\n    this.setPlanetArtOption(ctx, planetArtToggle);\n  }\n\n  setDragOption(dragType) {\n    if (dragType === 'no-drag') {\n      this.noDragUpdate();\n    } else if (dragType === 'basic-drag') {\n      this.interaction();\n      this.dragUpdate();\n    } else if (dragType === 'elastic-drag') {\n      this.interaction();\n      this.elasticDragUpdate();\n    }\n  }\n\n  noDragUpdate() {\n    this.x = this.star.x + this.orbitRadius * Math.cos(this.theta);\n    this.y = this.star.y + this.orbitRadius * Math.sin(this.theta);\n  }\n\n  dragUpdate() {\n    if (this.clicked) {\n      this.x = this.mouse.x;\n      this.y = this.mouse.y;\n    } else {\n      this.x = this.star.x + this.orbitRadius * Math.cos(this.theta);\n      this.y = this.star.y + this.orbitRadius * Math.sin(this.theta);\n    }\n  }\n\n  elasticDragUpdate() {\n    if (this.clicked) {\n      this.x += (this.mouse.x - this.x) * 0.05;\n      this.y += (this.mouse.y - this.y) * 0.05;\n    } else {\n      this.distanceFromCenter = Math.sqrt(\n        Math.pow(this.star.x - this.x, 2) + Math.pow(this.star.y - this.y, 2)\n      );\n      this.distanceFromCenter +=\n        (this.orbitRadius - this.distanceFromCenter) * 0.2;\n      this.x = this.star.x + this.distanceFromCenter * Math.cos(this.theta);\n      this.y = this.star.y + this.distanceFromCenter * Math.sin(this.theta);\n    }\n  }\n\n  drawShadow(shadowctx, shadowType, planetArtToggle, backgroundToggle) {\n    if (shadowType === 'round-shadow') {\n      this.drawRoundShadow(shadowctx, planetArtToggle, backgroundToggle);\n    } else if (shadowType === 'rectangular-shadow') {\n      this.drawRectangularShadow(shadowctx, backgroundToggle);\n    }\n  }\n\n  drawRectangularShadow(shadowctx, backgroundToggle) {\n    if (this.name !== 'sun' && this.name !== 'moon') {\n      this.findShadowEndPoint();\n\n      shadowctx.beginPath();\n      if (backgroundToggle) {\n        shadowctx.strokeStyle = 'rgba(33, 69, 104, 0.3)';\n      } else {\n        shadowctx.strokeStyle = 'rgba(77, 87, 105, 0.4)';\n      }\n      shadowctx.lineWidth = this.radius * 2;\n      shadowctx.moveTo(this.x, this.y);\n      shadowctx.lineTo(this.toX, this.toY);\n      shadowctx.lineWidth = this.radius * 2;\n      shadowctx.stroke();\n      shadowctx.closePath();\n    }\n  }\n\n  findShadowEndPoint() {\n    let extralength = this.setShadowLength();\n\n    this.toX = this.x + (this.radius + extralength) * Math.cos(this.theta);\n    this.toY = this.y + (this.radius + extralength) * Math.sin(this.theta);\n  }\n\n  setShadowLength() {\n    let extralength = 17;\n\n    if (this.name === 'venus') {\n      extralength += 2;\n    } else if (this.name === 'earth') {\n      extralength += 17;\n    } else if (this.name === 'mars') {\n      extralength += 18;\n    } else if (this.name === 'jupiter') {\n      extralength += 5;\n    } else if (this.name === 'saturn') {\n      extralength += 6;\n    } else if (this.name === 'uranus') {\n      extralength += 4;\n    }\n\n    return extralength;\n  }\n\n  drawRoundShadow(shadowctx, planetArtToggle, backgroundToggle) {\n    if (this.name !== 'sun' && this.name !== 'moon') {\n      this.findXYdistance(planetArtToggle);\n      this.findShadowCurveDepth();\n      this.findShadowPoints();\n\n      shadowctx.beginPath();\n      shadowctx.moveTo(this.Ax, this.Ay);\n      shadowctx.bezierCurveTo(\n        this.Ax + this.BezierX,\n        this.Ay + this.BezierY,\n        this.Bx + this.BezierX,\n        this.By + this.BezierY,\n        this.Bx,\n        this.By\n      );\n      shadowctx.lineTo(\n        this.Bx + this.shadowLengthX,\n        this.By + this.shadowLengthY\n      );\n      shadowctx.bezierCurveTo(\n        this.Bx + this.BezierX + this.shadowLengthX,\n        this.By + this.BezierY + this.shadowLengthY,\n        this.Ax + this.BezierX + this.shadowLengthX,\n        this.Ay + this.BezierY + this.shadowLengthY,\n        this.Ax + this.shadowLengthX,\n        this.Ay + this.shadowLengthY\n      );\n      shadowctx.lineTo(this.Ax, this.Ay);\n      if (backgroundToggle) {\n        shadowctx.fillStyle = 'rgba(33, 69, 104, 0.3)';\n      } else {\n        shadowctx.fillStyle = 'rgba(77, 87, 105, 0.4)';\n      }\n      shadowctx.fill();\n      shadowctx.closePath();\n    }\n  }\n\n  findXYdistance(planetArtToggle) {\n    let radius = this.radius;\n\n    if (planetArtToggle) {\n      if (this.name === 'saturn') {\n        radius = this.radius * 0.8;\n      }\n    }\n\n    this.radiusX = radius * Math.sin(this.theta);\n    this.radiusY = radius * Math.cos(this.theta);\n    this.shadowLengthX = (this.radius + 20) * Math.cos(this.theta);\n    this.shadowLengthY = (this.radius + 20) * Math.sin(this.theta);\n\n    if (this.name === 'mars') {\n      this.shadowLengthX = (this.radius + 46) * Math.cos(this.theta);\n      this.shadowLengthY = (this.radius + 46) * Math.sin(this.theta);\n    } else if (this.name === 'earth') {\n      this.shadowLengthX = (this.radius + 30) * Math.cos(this.theta);\n      this.shadowLengthY = (this.radius + 30) * Math.sin(this.theta);\n    }\n  }\n\n  findShadowCurveDepth() {\n    this.BezierX = (this.radius / 1.5) * Math.cos(this.theta);\n    this.BezierY = (this.radius / 1.5) * Math.sin(this.theta);\n  }\n\n  findShadowPoints() {\n    this.Ax = this.x + this.radiusX;\n    this.Ay = this.y - this.radiusY;\n    this.Bx = this.x - this.radiusX;\n    this.By = this.y + this.radiusY;\n    this.Cx = this.Bx + this.shadowLengthX;\n    this.Cy = this.By + this.shadowLengthY;\n    this.Dx = this.Ax + this.shadowLengthX;\n    this.Dy = this.Ay + this.shadowLengthY;\n  }\n\n  setPlanetArtOption(ctx, planetArtToggle) {\n    if (planetArtToggle) {\n      this.drawArt(ctx);\n    } else {\n      this.drawCircle(ctx);\n    }\n  }\n\n  drawArt(ctx) {\n    ctx.beginPath();\n\n    let width = this.radius * 2;\n    let imgX = this.x - this.radius;\n    let imgY = this.y - this.radius;\n\n    if (this.name === 'saturn') {\n      width = this.radius * 4;\n      imgX -= this.radius;\n    } else if (this.name === 'uranus') {\n      width = this.radius * 4.2;\n      imgX -= this.radius * 1.1;\n    }\n\n    ctx.drawImage(this.img, imgX, imgY, width, this.radius * 2);\n    ctx.closePath();\n  }\n\n  drawCircle(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawOrbitPath(pathctx) {\n    pathctx.beginPath();\n    pathctx.arc(\n      this.star.x,\n      this.star.y,\n      this.orbitRadius,\n      0,\n      Math.PI * 2,\n      false\n    );\n    pathctx.globalAlpha = 0.4;\n    pathctx.strokeStyle = this.color;\n    pathctx.stroke();\n    pathctx.closePath();\n  }\n\n  interaction() {\n    this.canvas = document.getElementById('shadow-canvas');\n\n    this.canvas.addEventListener('mousedown', this.onMouseDown);\n    this.canvas.addEventListener('mouseup', this.restore);\n    this.canvas.addEventListener('mouseout', this.restore);\n  }\n\n  onMouseDown = (e) => {\n    this.offsetX = e.clientX - this.x;\n    this.offsetY = e.clientY - this.y;\n\n    let radius = this.radius;\n\n    if (\n      Math.abs(this.offsetX) <= radius &&\n      Math.abs(this.offsetY) <= this.radius\n    ) {\n      this.clicked = true;\n      this.mouse.x = e.clientX - this.offsetX;\n      this.mouse.y = e.clientY - this.offsetY;\n      this.canvas.addEventListener('mousemove', this.onMouseMove);\n    }\n  };\n\n  onMouseMove = (e) => {\n    this.mouse.x = e.clientX - this.offsetX;\n    this.mouse.y = e.clientY - this.offsetY;\n\n    if (this.name !== 'sun' && this.name !== 'moon') {\n      this.orbitRadius = Math.sqrt(\n        Math.pow(this.mouse.x - this.star.x, 2) +\n          Math.pow(this.mouse.y - this.star.y, 2)\n      );\n      this.theta = Math.acos((this.mouse.x - this.star.x) / this.orbitRadius);\n\n      if (this.mouse.y - this.star.y < 0) {\n        this.theta = 2 * Math.PI - this.theta;\n      }\n\n      this.toX = this.mouse.x + (this.radius + 30) * Math.cos(this.theta);\n      this.toY = this.mouse.y + (this.radius + 30) * Math.sin(this.theta);\n    }\n  };\n\n  restore = () => {\n    if (this.clicked && this.name !== 'sun') {\n      this.clicked = false;\n\n      this.orbitRadius = Math.sqrt(\n        Math.pow(this.star.x - this.x, 2) + Math.pow(this.star.y - this.y, 2)\n      );\n      this.theta = Math.acos((this.x - this.star.x) / this.orbitRadius);\n\n      if (this.y - this.star.y < 0) {\n        this.theta = 2 * Math.PI - this.theta;\n      }\n\n      this.canvas.removeEventListener('mousemove', this.onMouseMove);\n    } else if (this.clicked && this.name === 'sun') {\n      this.clicked = false;\n      this.star.x = this.x;\n      this.star.y = this.y;\n      this.canvas.removeEventListener('mousemove', this.onMouseMove);\n    }\n\n    this.canvas.removeEventListener('mousedown', this.onMouseDown);\n  };\n}"]},"metadata":{},"sourceType":"module"}