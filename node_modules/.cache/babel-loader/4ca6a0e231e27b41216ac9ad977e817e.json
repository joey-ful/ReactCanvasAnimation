{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from 'react';\n\nconst useCanvas = draw => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n\n    const render = () => {\n      frameCount++;\n      draw(ctx, frameCount);\n      frameRequestId = window.requestAnimationFrame(render);\n    };\n\n    return () => {\n      window.cancelAnimationFrame(frameRequestId);\n    };\n  }, [draw]);\n};\n\n_s(useCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\nexport default useCanvas;","map":{"version":3,"sources":["/Users/jehong/Programming/Portfolio/CanvasAnimationReact/react-canvas-animation/src/Hooks/useCanvas.js"],"names":["useRef","useEffect","useCanvas","draw","canvasRef","canvas","current","context","getContext","frameCount","animationFrameId","render","ctx","frameRequestId","window","requestAnimationFrame","cancelAnimationFrame"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;AAEA,MAAMC,SAAS,GAAGC,IAAI,IAAI;AAAA;;AACxB,QAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMI,MAAM,GAAGD,SAAS,CAACE,OAAzB;AACA,UAAMC,OAAO,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAhB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,gBAAJ;;AAEA,UAAMC,MAAM,GAAG,MAAM;AACnBF,MAAAA,UAAU;AACVN,MAAAA,IAAI,CAACS,GAAD,EAAMH,UAAN,CAAJ;AACAI,MAAAA,cAAc,GAAGC,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAjB;AACD,KAJD;;AAMA,WAAO,MAAM;AACXG,MAAAA,MAAM,CAACE,oBAAP,CAA4BH,cAA5B;AACD,KAFD;AAGD,GAfQ,EAeN,CAACV,IAAD,CAfM,CAAT;AAgBD,CAnBD;;GAAMD,S;;AAqBN,eAAeA,SAAf","sourcesContent":["import { useRef, useEffect } from 'react'\n\nconst useCanvas = draw => {\n  const canvasRef = useRef(null);\n  \n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n    \n    const render = () => {\n      frameCount++;\n      draw(ctx, frameCount);\n      frameRequestId = window.requestAnimationFrame(render);\n    }\n    \n    return () => {\n      window.cancelAnimationFrame(frameRequestId);\n    }\n  }, [draw]);\n}\n\nexport default useCanvas;"]},"metadata":{},"sourceType":"module"}